<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Portfolio</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Source+Serif+Pro:wght@600&family=Inter:wght@300;400;500&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Source Serif Pro', serif; }
        body { background: black; text-align: center; overflow: hidden; position: relative; color: white; }
        
        .container { 
            width: 100vw; 
            height: 100vh; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            position: relative; 
            cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><line x1='19' y1='12' x2='5' y2='12'></line><polyline points='12 19 5 12 12 5'></polyline></svg>") 20 20, auto;
        }
        
        .image-wrapper { width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center; }
        
        img { max-width: 100vw; max-height: 100vh; object-fit: cover; transition: opacity 0.3s ease; }

        .menu-trigger-area {
            position: fixed;
            top: 0;
            left: 0;
            width: 80px;
            height: 80px;
            z-index: 9;
        }

        .menu { 
            position: fixed; 
            top: 15px; 
            left: 15px; 
            background: transparent; 
            color: black; 
            padding: 10px; 
            cursor: pointer; 
            font-size: 22px; 
            transition: all 0.3s ease;
            display: flex; 
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            width: 40px; 
            height: 40px; 
            z-index: 10;
            opacity: 0;
            pointer-events: none;
        }
        
        .menu-trigger-area:hover .menu,
        .menu.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .menu-line {
            width: 24px;
            height: 2px;
            background-color: black;
            margin: 2px 0;
            transition: all 0.3s ease;
        }
        
        .menu.active .menu-line:nth-child(1) {
            transform: translateY(6px) rotate(45deg);
        }
        
        .menu.active .menu-line:nth-child(2) {
            opacity: 0;
        }
        
        .menu.active .menu-line:nth-child(3) {
            transform: translateY(-6px) rotate(-45deg);
        }
        
        .menu:hover .menu-line { background-color: #333; }

        .dropdown-container {
            position: fixed;
            top: 15px;
            left: 15px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: black;
            list-style: none;
            padding: 0;
            border-radius: 12px;
            z-index: 9;
            width: 0;
            height: 0;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Inter', sans-serif;
        }
        
        .dropdown-container.show { 
            width: 300px;
            height: auto;
            max-height: 75vh;
            opacity: 1;
            transform: translateY(0);
            padding: 60px 0 20px 0;
            overflow-y: auto;
        }
        
        .dropdown-container::-webkit-scrollbar {
            width: 4px;
        }
        
        .dropdown-container::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .dropdown-container::-webkit-scrollbar-thumb {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }
        
        .dropdown-header {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #777;
            padding: 8px 25px;
            margin-top: 10px;
            font-weight: 500;
        }
        
        .dropdown li { 
            padding: 12px 25px; 
            cursor: pointer; 
            font-size: 16px; 
            font-weight: 400; 
            text-align: left;
            transition: all 0.2s ease;
            position: relative;
            font-family: 'Inter', sans-serif;
            border: none;
        }
        
        .dropdown li:hover { 
            background: rgba(0, 0, 0, 0.05);
        }
        
        .dropdown li:active {
            background: rgba(0, 0, 0, 0.1);
        }
        
        .dropdown-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }
        
        .dropdown-arrow {
            font-size: 14px;
            transition: transform 0.3s ease;
        }
        
        .dropdown li.active .dropdown-arrow {
            transform: rotate(180deg);
        }
        
        .sub-dropdown { 
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            margin: 0;
            padding: 0;
        }
        
        .sub-dropdown.show { 
            max-height: 500px;
            padding-bottom: 8px;
        }
        
        .sub-dropdown li {
            padding: 10px 15px 10px 35px;
            font-size: 15px;
            opacity: 0.9;
        }
        
        .sub-dropdown li:hover {
            opacity: 1;
        }
        
        .dropdown-divider {
            height: 1px;
            background: rgba(0, 0, 0, 0.06);
            margin: 8px 25px;
        }
        
        @media (max-width: 768px) {
            .menu-trigger-area {
                width: 60px;
                height: 60px;
            }
            
            .dropdown-container.show {
                width: 280px;
                max-height: 80vh;
            }
            
            .dropdown li {
                padding: 12px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="menu-trigger-area">
        <div class="menu" id="menu-button" onclick="toggleMenu()">
            <div class="menu-line"></div>
            <div class="menu-line"></div>
            <div class="menu-line"></div>
        </div>
    </div>
    
    <ul class="dropdown-container" id="dropdown-menu">
        <li onclick="loadImage(0)">Home</li>
        <div class="dropdown-divider"></div>
        <div class="dropdown-header">Ways</div>
        <li onclick="toggleSubDropdown('ways-menu', this)" class="dropdown-parent">
            <div class="dropdown-title">
                <span>Learning Environment</span>
                <span class="dropdown-arrow">▾</span>
            </div>
        </li>
        <ul class="dropdown sub-dropdown" id="ways-menu">
            <li onclick="loadImage(3)">Child-Scale</li>
            <li onclick="loadImage(5)">Flexible Spaces</li>
            <li onclick="loadImage(7)">Home-Like Environments</li>
            <li onclick="loadImage(9)">Legibility</li>
            <li onclick="loadImage(11)">Access Control</li>
            <li onclick="loadImage(13)">Natural Surveillance</li>
            <li onclick="loadImage(15)">Personal Space</li>
            <li onclick="loadImage(17)">Student Participation</li>
            <li onclick="loadImage(19)">Universal Design</li>
            <li onclick="loadImage(21)">Accessibility</li>
            <li onclick="loadImage(25)">Space for Pets</li>
            <li onclick="loadImage(27)">Biophilic Design</li>
            <li onclick="loadImage(29)">Natural Ventilation</li>
            <li onclick="loadImage(31)">Outdoor Learning Space</li>
            <li onclick="loadImage(33)">Ergonomics</li>
            <li onclick="loadImage(35)">Sensory Stimulation</li>
            <li onclick="loadImage(37)">Social Spaces</li>
            <li onclick="loadImage(39)">Noise Reduction</li>
            <li onclick="loadImage(41)">Small Learning Community</li>
            <li onclick="loadImage(43)">Color</li>
            <li onclick="loadImage(45)">Natural Light</li>
            <li onclick="loadImage(47)">Privacy Niches</li>
            <li onclick="loadImage(49)">Engaging Spaces</li>
            <li onclick="loadImage(51)">Thermal Comfort</li>
        </ul>
        <div class="dropdown-divider"></div>
        <div class="dropdown-header">Analysis</div>
        <li onclick="toggleSubDropdown('sort-menu', this)" class="dropdown-parent">
            <div class="dropdown-title">
                <span>Sort By</span>
                <span class="dropdown-arrow">▾</span>
            </div>
        </li>
        <ul class="dropdown sub-dropdown" id="sort-menu">
            <li onclick="loadImage(53)">Spatial Modification Matrix</li>
            <li onclick="loadImage(54)">Priority</li>
            <li onclick="loadImage(55)">Cost</li>
            <li onclick="loadImage(56)">Universality</li>
            <li onclick="loadImage(57)">Averages</li>
        </ul>
        <div class="dropdown-divider"></div>
        <li onclick="loadImage(58)">Endnotes</li>
    </ul>
    
    <div class="container" id="image-container">
        <div class="image-wrapper">
            <img id="image-viewer" src="pdfs/png_0.png">
        </div>
    </div>
    
    <script>
        let totalImages = 52;
        let index = 0;
        let isTransitioning = false;
        const container = document.getElementById('image-container');
        const menuButton = document.getElementById('menu-button');
        const leftArrowCursor = "url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><line x1='19' y1='12' x2='5' y2='12'></line><polyline points='12 19 5 12 12 5'></polyline></svg>\") 20 20, auto";
        const rightArrowCursor = "url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><line x1='5' y1='12' x2='19' y2='12'></line><polyline points='12 5 19 12 12 19'></polyline></svg>\") 20 20, auto";

        function loadImage(imageIndex) {
            if (isTransitioning) return;
            isTransitioning = true;
            
            let imgViewer = document.getElementById('image-viewer');
            let container = document.getElementById('image-container');
            
            // Close menu when selecting an image
            closeMenu();
            
            // Add fade out effect
            imgViewer.style.opacity = '0.3';
            
            setTimeout(() => {
                if (imageIndex === 0) {
                    container.style.background = "black";
                    imgViewer.style.width = "100vw";
                    imgViewer.style.height = "100vh";
                    imgViewer.style.objectFit = "cover";
                } else {
                    container.style.background = "white";
                    imgViewer.style.width = "98vw";
                    imgViewer.style.height = "98vh";
                    imgViewer.style.objectFit = "contain";
                }
                
                imgViewer.src = `pdfs/png_${imageIndex}.png`;
                index = imageIndex;
                
                // Add fade in effect
                setTimeout(() => {
                    imgViewer.style.opacity = '1';
                    isTransitioning = false;
                }, 100);
            }, 200);
        }

        function prevImage() {
            if (index > 0) {
                index--;
                loadImage(index);
            }
        }

        function nextImage() {
            index = (index < totalImages) ? index + 1 : 0;
            loadImage(index);
        }

        function toggleMenu() {
            let menu = document.getElementById('dropdown-menu');
            menu.classList.toggle('show');
            menuButton.classList.toggle('active');
        }
        
        function closeMenu() {
            let menu = document.getElementById('dropdown-menu');
            menu.classList.remove('show');
            menuButton.classList.remove('active');
        }

        function toggleSubDropdown(id, element) {
            let menu = document.getElementById(id);
            let isActive = menu.classList.contains('show');
            
            // Close all dropdowns first
            document.querySelectorAll('.sub-dropdown').forEach(dropdown => {
                dropdown.classList.remove('show');
            });
            
            document.querySelectorAll('.dropdown-parent').forEach(parent => {
                parent.classList.remove('active');
            });
            
            // Then open the selected one if it wasn't active
            if (!isActive) {
                menu.classList.add('show');
                if (element) {
                    element.classList.add('active');
                }
            }
        }

        // Update cursor based on position
        container.addEventListener('mousemove', function(e) {
            const x = e.clientX;
            const containerWidth = container.offsetWidth;
            
            if (x < containerWidth / 2) {
                container.style.cursor = leftArrowCursor;
            } else {
                container.style.cursor = rightArrowCursor;
            }
        });
        
        // Navigation on click
        container.addEventListener('click', function(e) {
            // Don't navigate if clicking on menu or its children
            if (e.target.closest('.menu-trigger-area') || e.target.closest('.dropdown-container')) {
                return;
            }
            
            const x = e.clientX;
            const containerWidth = container.offsetWidth;
            
            if (x < containerWidth / 2) {
                if (index > 0) {
                    prevImage();
                }
            } else {
                nextImage();
            }
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.dropdown-container') && 
                !event.target.closest('.menu-trigger-area')) {
                closeMenu();
            }
        });

        document.addEventListener("keydown", function(event) {
            if (event.key === "ArrowLeft") prevImage();
            if (event.key === "ArrowRight") nextImage();
            if (event.key === "Escape") closeMenu();
        });
    </script>
</body>
</html>
